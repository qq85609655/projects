var Ice=Ice||{};(function(c){var a=Object.prototype,d=a.toString,b=["valueOf","toLocaleString","toString","constructor"];for(i in {toString:1}){b=null}c.apply=function(g,f){if(f instanceof Array&&g.length==f.length){for(var h=0,e=f.length;h<e;h++){arguments.callee(g[h],f[h])}}else{if(f instanceof Object){for(key in f){var j=f[key];if(!g[key]||j==null||typeof j=="string"||typeof j=="number"||typeof j=="boolean"||typeof j=="function"||(j instanceof Array&&(typeof j[0]=="string"||typeof j[0]=="number"||typeof j=="boolean"))){g[key]=j}else{arguments.callee(g[key],f[key])}}}}return g};c.applyDept=c.apply})(Ice);var Ice=Ice||{};(function(a){a.changeName2Field=function(f,g,h){g=g||"";h=h||"";for(var e=0,c=f.length;e<c;e++){var j=f[e];j.field=g+j.name+h;delete j.name}return f};var b=function(d){var c=null;if(d){if(d instanceof Array){c=d}else{if(d instanceof String){c=[d]}}}return c};a.echartOption=function(K,G){var t=[];a.apply(t,K);var p="name";var u=b(G.legend_ary)||[],q=b(G.yname_ary)||[],M=b(G.xname_ary)||[],J=b(G.type_ary)||[],g=b(G.value_ary)||["value"],x=(G.stack!=null&&G.stack!="")?true:false,P=G.sort_legend||x,y=G.key_list||"list",C=G.title||"",E=b(G.yIndex_ary)||[],h=G.xname_append&&M.length>0||false;var A=[],z=[];for(var O=0,r=t.length;O<r;O++){var c=t[O],f=c[p];f+=h?M[0]:"";A.push(f);if(c[y]&&c[y] instanceof Array){var D=c[y];for(var N=0,S=D.length;N<S;N++){if(!z[N]){z[N]=[]}z[N].push(D[N][g[0]]||0);if(u.length<N+1&&D[N][p]){u.push(D[N][p])}}}else{var s=[],H={name:f,list:s,code:t[O].code||""};for(var L=0,R=g.length;L<R;L++){if(!z[L]){z[L]=[]}z[L].push(c[g[L]]||0);s.push({name:u[L]||"",value:c[g[L]],code:g[L]})}t[O]=H}}var n=[],O=0,r=q.length;do{var v={type:"value",name:q[O]||""};if(O>0){v.splitLine={show:false};v.splitArea={show:false}}n.push(v)}while(++O<r);var w=[];if(M.length>0){for(var O=0,r=M.length;O<r;O++){w.push({type:"category",data:A,name:(M[O]&&!h)?M[O]:""})}}else{w.push({type:"category",data:A})}var l=[];for(var O=0,r=z.length;O<r;O++){var I={name:u[O]||"",type:J[O]||J[0],data:z[O],yAxisIndex:q.length<=1?0:(E.length>O?E[O]:O)};if(x){I.stack=x}l.push(I)}var d=null,B=true;var o=[];if(B){var Q=w[0].name||"",m=0,e=n[0].name;for(var O=0,r=l.length;O<r;O++){if(O+1<r&&(l[O].type!=l[O+1].type||n.length>1)){B=false;break}}if(B){o=["stack","tiled"]}d=function(U){var j=U[0].name,Z,X=0,k=0,W="";for(var V=0,T=U.length;V<T;V++){k=U[V].value;X+=k;m=U[V].series.yAxisIndex||0;e=n[m].name||"";Z=U[V].seriesName||"";W+="<br/>"+(Z==""?"":(Z+" ： "))+k+e}var Y=(x&&B)?(" ： 共"+X+e):"";return j+Q+Y+W}}u=P?u.reverse():u;var F={title:{text:C},tooltip:{trigger:"axis",formatter:d,axisPointer:{type:"shadow"}},toolbox:{show:true,feature:{dataView:{show:true,readOnly:false},magicType:{show:true,type:o},restore:{show:true},saveAsImage:{show:true}}},legend:{x:"left",data:u},xAxis:w,yAxis:n,series:l};if(G.config){F.config=G.config}a.apply(F,{config:{_data_:t}});return F};a.echartStackColumnOption=function(j,k,e,h,d){var c={legend_ary:h?[h]:[],yname_ary:[e],type_ary:["bar"],value_ary:[k],stack:"a"};for(var f in d){c[f]=d[f]}var g=a.echartOption(j,c);return g}})(Ice);